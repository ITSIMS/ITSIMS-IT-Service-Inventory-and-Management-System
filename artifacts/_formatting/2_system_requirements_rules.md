# Правила оформления Требований к системе (System Requirements)

| Дата       | Номер версии | Автор       | Ссылка на задачу                                                               | Комментарий             |
| ---------- | ------------ | ----------- | ------------------------------------------------------------------------------ | ----------------------- |
| 2025-12-05 | v1.0         | Когановский | [2025-11-30_Koganovsky.md](../../task-tracker/3_done/2025-11-30_Koganovsky.md) | Первая версия документа |



## 1. Цель документа

Данный документ определяет специфичные правила оформления **Требований к системе (System Requirements, SR)** в проекте ITSIMS. Документ является дополнением к [Общим правилам оформления артефактов](./general_artifact_rules.md) и содержит требования, применимые исключительно к артефакту типа "Требования к системе".

**Принцип:** Требования к системе — это документ среднего уровня детализации, который детализирует требования ТЗ на уровне системной архитектуры. SR отвечает на вопрос "**КАК** система будет реализовывать требования заказчика на системном уровне".



## 2. Характеристики Требований к системе

### 2.1 Основные параметры

| Параметр                  | Значение                                                         |
| ------------------------- | ---------------------------------------------------------------- |
| **Префикс документа**     | `SR` (System Requirements)                                       |
| **Уровень детализации**   | Системный (средний)                                              |
| **Целевая аудитория**     | Системные архитекторы, бизнес-аналитики, тимлид                  |
| **Ключевой вопрос**       | КАК система будет реализовывать требования заказчика?            |
| **Технические детали**    | Минимальны (описание поведения без привязки к технологиям)       |
| **Префикс ID требований** | `SR-` (например: `SR-F001`, `SR-NF001`, `SR-SEC001`, `SR-UI001`) |
| **Трассировка вверх**     | К Техническому заданию (`TS-`)                                   |
| **Трассировка вниз**      | К Требованиям к ПО (`SWR-`)                                      |

### 2.2 Назначение документа

Требования к системе детализируют требования ТЗ на уровне системной архитектуры:

- Описывают поведение системы без привязки к конкретным технологиям
- Группируют требования по функциональным блокам системы
- Определяют характеристики системы, которые будут проверяться при тестировании
- Одно требование ТЗ может породить несколько требований системы
- Служат основой для разработки требований к ПО (Software Requirements)



## 3. Обязательная структура Требований к системе

SR **должен** содержать следующие разделы в указанном порядке:

```markdown
## 1. Цель документа
## 2. Термины, определения и сокращения
## 3. Функциональные требования
   ### 3.1. [Функциональный блок 1]
   ### 3.2. [Функциональный блок 2]
   ### 3.N. [Функциональный блок N]
## 4. Интеграционные требования
## 5. Нефункциональные требования
   ### 5.1. Надёжность и масштабируемость
   ### 5.2. Производительность
   ### 5.3. Доступность
## 6. Требования безопасности
## 7. Требования к совместимости
## 8. Требования к интерфейсу
## 9. Требования к документации
## 10. Связанные документы
```

### 3.1 Пояснения к разделам

#### Раздел 3: Функциональные требования

Основной раздел документа, группирует требования по **функциональным блокам** системы.

**Примеры функциональных блоков:**
- Управление реестром сервисов
- Моделирование связей между сервисами
- Управление пользователями и ролями
- Аутентификация и авторизация
- Отчётность и аналитика

**Каждый функциональный блок:**
- Содержит группу связанных требований
- Детализирует одно или несколько требований ТЗ
- Описывает конкретное поведение системы

#### Раздел 4: Интеграционные требования

Детализирует требования к интеграциям из ТЗ на системном уровне:
- С какими системами интегрироваться
- Какие данные передавать
- Какие события обрабатывать
- Без указания конкретных протоколов и форматов (это уровень SWR)

#### Раздел 5: Нефункциональные требования

Группируется по категориям:
- **Надёжность и масштабируемость:** доступность системы, восстановление после сбоев, горизонтальное масштабирование
- **Производительность:** время отклика, пропускная способность, максимальная нагрузка
- **Доступность:** время работы системы, обслуживание, резервное копирование

#### Раздел 6: Требования безопасности

Детализирует требования безопасности из ТЗ:
- Модель доступа (например, RBAC)
- Аутентификация и авторизация
- Защита данных
- Аудит действий пользователей

#### Раздел 7: Требования к совместимости

Требования к совместимости с:
- Браузерами
- Операционными системами
- Мобильными устройствами
- Существующей инфраструктурой

#### Раздел 8: Требования к интерфейсу

Общие требования к пользовательскому интерфейсу:
- Принципы навигации
- Адаптивность и отзывчивость
- Доступность (accessibility)
- Локализация

#### Раздел 9: Требования к документации

Требования к сопроводительной документации:
- Руководство пользователя
- Руководство администратора
- Техническая документация
- API документация (если есть внешний API)



## 4. Формат требований в SR

### 4.1 Общий формат

Каждое требование в SR **должно** быть оформлено следующим образом:

```markdown
- **SR-<тип><номер>:** <Формулировка требования>
  - **Трассировка вверх:** `TS-<идентификатор>`
  - **Трассировка вниз:** `SWR-<идентификатор>`, `SWR-<идентификатор>`, ...
```

### 4.2 Типы требований и префиксы

| Тип требования              | Префикс | Пример ID    |
| --------------------------- | ------- | ------------ |
| Функциональное требование   | `F`     | `SR-F001`    |
| Нефункциональное требование | `NF`    | `SR-NF001`   |
| Требование безопасности     | `SEC`   | `SR-SEC001`  |
| Требование к интерфейсу     | `UI`    | `SR-UI001`   |
| Интеграционное требование   | `INT`   | `SR-INT001`  |
| Требование к совместимости  | `COMP`  | `SR-COMP001` |
| Требование к документации   | `DOC`   | `SR-DOC001`  |

### 4.3 Правила формулировки требований

**Обязательные правила:**

1. **Язык формулировки:** "Система должна..."
2. **Системный уровень:** Требование описывает поведение системы без указания конкретных технологий
3. **Детализация требований ТЗ:** Каждое SR-требование детализирует требование из ТЗ
4. **Тестируемость:** Требование должно быть проверяемым и измеримым
5. **Атомарность:** Одно требование = одна характеристика или поведение

**Примеры корректных требований SR:**

```markdown
- **SR-F001:** Система должна обеспечивать возможность создания новой записи об IT-сервисе с указанием обязательных атрибутов: уникальный идентификатор, наименование, описание, категория, статус, SLA, ответственный специалист
  - **Трассировка вверх:** `TS-F001`
  - **Трассировка вниз:** `SWR-F001`, `SWR-F002`
  
- **SR-F002:** Система должна обеспечивать возможность редактирования всех атрибутов существующего IT-сервиса пользователями с соответствующими правами доступа
  - **Трассировка вверх:** `TS-F002`
  - **Трассировка вниз:** `SWR-F003`, `SWR-F004`
  
- **SR-SEC001:** Система должна реализовывать гибкую ролевую модель доступа, разделяя права и функциональность для каждой роли пользователя
  - **Трассировка вверх:** `TS-NF003`
  - **Трассировка вниз:** `SWR-SEC001`, `SWR-SEC002`
```

**Сравнение уровней детализации:**

| Уровень     | Пример требования                                                                                                                                                                                                  |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **ТЗ (TS)** | Система должна обеспечивать возможность добавления нового IT-сервиса в реестр                                                                                                                                      |
| **SR**      | Система должна обеспечивать возможность создания новой записи об IT-сервисе с указанием обязательных атрибутов: уникальный идентификатор, наименование, описание, категория, статус, SLA, ответственный специалист |
| **SWR**     | Модуль "Управление сервисами" должен предоставлять REST API endpoint POST /api/services для создания нового сервиса с JSON payload, содержащим поля: name, description, category, status, sla, owner_id            |

### 4.4 Нумерация требований

- Нумерация **независимая** для каждого типа требований
- Формат: **трёхзначное число с ведущими нулями** (`001`, `002`, ..., `010`, ...)
- Пример последовательности: `SR-F001`, `SR-F002`, `SR-F003`, ..., `SR-F010`, `SR-F011`, ...

**Правила нумерации при изменениях:**

- При удалении требования его номер **не переиспользуется** (пропуск в нумерации допустим)
- Новые требования получают **следующий свободный номер** в последовательности
- Изменение формулировки **не изменяет номер** требования

### 4.5 Трассировка требований

Каждое требование SR **обязательно** должно иметь трассировку вверх (к ТЗ) и может иметь трассировку вниз (к SWR).

**Формат трассировки:**

```markdown
- **SR-F001:** Система должна обеспечивать возможность создания новой записи об IT-сервисе с указанием обязательных атрибутов: уникальный идентификатор, наименование, описание, категория, статус, SLA, ответственный специалист
  - **Трассировка вверх:** `TS-F001`
  - **Трассировка вниз:** `SWR-F001`, `SWR-F002`, `SWR-API001`
```

**Правила трассировки:**

- Поле "Трассировка вверх" **обязательно** для всех требований SR
- Если требование ТЗ не существует, это **ошибка** — каждое SR должно покрывать требование ТЗ
- Поле "Трассировка вниз" обязательно, если существуют связанные SWR-требования
- Если требования SWR ещё не созданы, поле можно оставить пустым: `- **Трассировка вниз:** —`
- Допускается множественная трассировка в обе стороны



## 5. Что РАЗРЕШЕНО и ЗАПРЕЩЕНО в Требованиях к системе

### 5.1 Что РАЗРЕШЕНО

В SR **разрешено:**

- ✅ Описание поведения системы
- ✅ Указание атрибутов и характеристик объектов
- ✅ Определение связей между объектами
- ✅ Общие характеристики интерфейса (адаптивность, навигация)
- ✅ Требования к производительности с метриками (время отклика, пропускная способность)
- ✅ Указание ролей пользователей и их прав
- ✅ Общие требования к интеграциям (без протоколов)

### 5.2 Что ЗАПРЕЩЕНО

В SR **категорически запрещено:**

- ❌ Указание конкретных технологий (React, PostgreSQL, Redis)
- ❌ Спецификация API (endpoints, методы HTTP, коды ответов)
- ❌ Детали структуры БД (таблицы, индексы, внешние ключи)
- ❌ Форматы данных (JSON, XML, Protobuf)
- ❌ Протоколы обмена (REST, gRPC, WebSocket)
- ❌ Названия библиотек и фреймворков

**Правильный уровень детализации:**

- ✅ "Система должна обеспечивать валидацию входных данных при создании сервиса"
- ❌ "Модуль должен использовать библиотеку Joi для валидации JSON payload"

**Технические детали принадлежат документу:**
- Требования к ПО (SWR) — для технической реализации



## 6. Примеры оформления разделов SR

### Пример раздела "Функциональные требования"

```markdown
## 3. Функциональные требования

### 3.1. Управление реестром IT-сервисов

#### 3.1.1. Создание сервиса

- **SR-F001:** Система должна обеспечивать возможность создания новой записи об IT-сервисе с указанием обязательных атрибутов: уникальный идентификатор, наименование, описание, категория, статус, SLA, ответственный специалист
  - **Трассировка вверх:** `TS-F001`
  - **Трассировка вниз:** `SWR-F001`, `SWR-F002`
  
- **SR-F002:** Система должна автоматически генерировать уникальный идентификатор для нового IT-сервиса при его создании
  - **Трассировка вверх:** `TS-F001`
  - **Трассировка вниз:** `SWR-F003`

#### 3.1.2. Редактирование сервиса

- **SR-F003:** Система должна обеспечивать возможность редактирования всех атрибутов существующего IT-сервиса пользователями с соответствующими правами доступа
  - **Трассировка вверх:** `TS-F002`
  - **Трассировка вниз:** `SWR-F004`, `SWR-F005`
  
- **SR-F004:** Система должна вести историю изменений каждого атрибута IT-сервиса с указанием времени изменения и пользователя, внёсшего изменение
  - **Трассировка вверх:** `TS-F002`
  - **Трассировка вниз:** `SWR-F006`
```

### Пример раздела "Требования безопасности"

```markdown
## 6. Требования безопасности

### 6.1. Управление доступом

- **SR-SEC001:** Система должна реализовывать гибкую ролевую модель доступа, разделяя права и функциональность для каждой роли пользователя
  - **Трассировка вверх:** `TS-NF003`
  - **Трассировка вниз:** `SWR-SEC001`, `SWR-SEC002`
  
- **SR-SEC002:** Система должна поддерживать следующие роли: Администратор, Менеджер сервисов, Оператор, Наблюдатель
  - **Трассировка вверх:** `TS-NF003`
  - **Трассировка вниз:** `SWR-SEC003`

### 6.2. Аудит

- **SR-SEC003:** Система должна регистрировать все критические действия пользователей (создание, изменение, удаление сервисов) в журнале аудита
  - **Трассировка вверх:** `TS-NF004`
  - **Трассировка вниз:** `SWR-SEC004`
```

### Пример раздела "Требования к интерфейсу"

```markdown
## 8. Требования к интерфейсу

### 8.1. Общие требования

- **SR-UI001:** Пользовательский интерфейс системы должен быть адаптивным и корректно отображаться на устройствах с разрешением экрана от 1024x768 пикселей
  - **Трассировка вверх:** `TS-NF005`
  - **Трассировка вниз:** `SWR-UI001`
  
- **SR-UI002:** Система должна обеспечивать навигацию по основным разделам не более чем за 3 клика от главной страницы
  - **Трассировка вверх:** `TS-NF006`
  - **Трассировка вниз:** `SWR-UI002`
```



## N. Связанные документы

### Общие правила оформления артефактов

- [Общие правила оформления артефактов](./general_artifact_rules.md) — базовые требования к структуре и формату всех артефактов проекта

### Другие типы артефактов

- [Правила оформления Технического задания](./1_technical_specification_rules.md) — специфичные правила для ТЗ (TS)
- [Правила оформления Требований к ПО](./3_software_requirements_rules.md) — специфичные правила для Software Requirements (SWR)

### Общие принципы форматирования

- [Общие принципы оформления документов](../../planning/formatting/formatting_principles.md) — универсальные правила форматирования для всего проекта
- [Структура документа](../../planning/formatting/document_structure.md) — обязательные и рекомендуемые элементы любого документа

### Артефакты проекта

- [Требования к системе](../2_system_requirements.md) — артефакт, к которому применяются правила из данного документа
- [README артефактов](../README.md) — описание структуры и назначения директории artifacts/
