# Решение о формате документов с требованиями

**Проект:** ITSIMS  
**Дата:** 11 октября 2025  
**Версия:** 1.0  
**Автор:** Gregory K

---

## 1. Цель документа

Определить формат файлов для документов, содержащих требования к системе, обеспечивающий удобство индексирования требований и отслеживания их покрытий.

---

## 2. Принятое решение

### Основной формат - Markdown (.md)

#### Обоснование

1. **Версионность в Git** - текстовый формат обеспечивает читаемые diff'ы и историю изменений
2. **Автоматизация анализа покрытий** - легко парсить требования программно
3. **Трассировка** - поддержка ссылок и якорей для связи требований между документами
4. **Предъявление заказчику** - конвертация в PDF/DOCX с сохранением форматирования

### Альтернативы и почему отклонены

- **DOCX** - бинарный формат, плохо работает с Git, сложно парсить
- **ReqIF/XML** - избыточная сложность для проекта такого масштаба
- **YAML/JSON** - не подходит для документации, плохая читаемость

---

## 3. Система индексации требований

### Формат идентификатора

```plaintext
<prefix><number>
```

### Префиксы типов требований

| Префикс | Тип требования |
|---------|----------------|
| `F` | Функциональное требование |
| `NF` | Нефункциональное требование |
| `I` | Требование к интеграции |
| `UI` | Требование к пользовательскому интерфейсу |
| `SEC` | Требование безопасности |
| `PERF` | Требование производительности |

**Примеры:** F1, F2, NF1, I1, UI1, SEC1

---

## 4. Механизм трассировки требований

### Иерархия документов

```plaintext
ТЗ (Tech Spec)
  ↓ покрывается
Требования к системе (System Requirements)
  ↓ покрывается
Требования к ПО (Software Requirements)
  ↓ покрывается
Требования НУ (Low-Level Requirements)
  ↓ покрывается
Код (Implementation)
```

### Таблица трассировки

В каждом документе нижнего уровня должна быть таблица:

```markdown
| ID требования | Покрывает | Описание |
|---------------|-----------|----------|
| SRS-001 | F1, F2 | Модуль управления сервисами |
| SRS-002 | F1, F3 | Хранилище данных о сервисах |
```

### Ссылки между документами

```markdown
**Требование SRS-001** покрывает [F1](./ITSIMS_spec_technical.md#req-f1)
```

---

## 5. Формат требования в документе

### Базовый формат

```markdown
- **Требование F1:** Система должна обеспечивать ведение реестра IT-сервисов
```

### Расширенный формат (для детализации)

```markdown
### Требование F1: Ведение реестра IT-сервисов {#req-f1}

**ID:** F1  
**Покрывает:** -  
**Покрывается:** SRS-001, SRS-002  

**Описание:**  
Система должна обеспечивать ведение реестра IT-сервисов.

**Критерии приемки:**
- Возможность добавления нового сервиса
- Возможность редактирования существующего
- Возможность удаления сервиса
```

---

## 6. Конвертация для заказчика

```bash
# Markdown → PDF
pandoc ITSIMS_spec_technical.md -o ITSIMS_spec_technical.pdf \
  --pdf-engine=xelatex \
  --variable mainfont="Arial" \
  --variable fontsize=12pt \
  --variable geometry:margin=2cm \
  --toc \
  --number-sections
```

---

**Утверждено:** Gregory K  
**Дата:** 11 октября 2025
