# Регламент Git-процесса для артефактов верификации ITSIMS

| Дата       | Номер версии | Автор     | Ссылка на задачу                                                           | Комментарий                                      |
| ---------- | ------------ | --------- | -------------------------------------------------------------------------- | ------------------------------------------------ |
| 2026-02-24 | v1.2         | Гречко    | [2026-02-24_Grechko.md](../../task-tracker/3_done/2026-02-24_Grechko.md)    | Перекрёстные ссылки с планом КУ                  |
| 2026-02-22 | v1.1         | Зацепилин | [2026-02-22_Zatsepilin.md](../../task-tracker/3_done/2026-02-22_Zatsepilin.md) | Принцип привязки тестов к требованиям |
| 2026-02-21 | v1.0         | Гречко    | [2026-02-19_Grechko.md](../../task-tracker/3_done/2026-02-19_Grechko.md)   | Добавлен регламент ветвления и приемки по PR    |



## 1. Цель документа

Документ задает единые правила для задач этапа верификации: как именовать ветки, как писать коммиты, что проверять в Pull Request и по каким критериям принимать изменения в документах кандидатов.

Документ дополняет общий процесс из [Работа с Git](./git_workflow.md).



## 2. Область применения

Регламент обязателен для всех изменений, связанных с:
- документами кандидатов верификации;
- матрицами трассировки и покрытия;
- отчетами по проверкам и результатами инспекций;
- задачами в `task-tracker`, которые напрямую относятся к этапу верификации.



## 3. Правила именования веток

### 3.1 Основной формат

Для задач из таск-трекера используется формат:

`task/<YYYY-MM-DD>_<assignee_en>[_index]`

Примеры:
- `task/2026-02-18_lovkov`
- `task/2026-02-19_koganovsky`
- `task/2026-02-19_zatsepilin_1`

### 3.2 Дополнительное правило для верификационных задач

Если задача влияет на артефакты верификации, в названии Pull Request обязательно указывать метку:

`[verification]`

Пример заголовка PR:

`[verification] Обновить матрицу покрытия для RBAC`



## 4. Шаблоны сообщений коммитов

Общий формат:

`<type>(<scope>): <краткое описание>`

### 4.1 Для изменений в документах верификации

- `feat(spec): добавить матрицу покрытия требований для rbac`
- `fix(spec): исправить несоответствие ссылок в candidate_2_rbac`
- `style(spec): унифицировать таблицы в отчете верификации`

### 4.2 Для действий в таск-трекере

- `feat(tasks): добавить задачу для Зацепилина`
- `chore(tasks): взять задачу в работу`
- `chore(tasks): завершить задачу`

### 4.3 Для правил и регламентов

- `feat(docs): добавить регламент git-процесса для верификации`
- `fix(docs): уточнить критерии приемки артефактов`



## 5. Минимальный checklist для Pull Request

Перед отправкой PR автор обязан проверить:

- [ ] Название PR содержит метку `[verification]` (если изменение относится к верификации)
- [ ] Ветка и файл задачи соответствуют друг другу по дате/исполнителю
- [ ] Все изменения относятся к одной задаче (без смешивания разных задач)
- [ ] Коммиты оформлены по формату `<type>(<scope>): ...`
- [ ] В тексте PR есть ссылка на файл задачи в `task-tracker`
- [ ] Обновлены связанные ссылки между документами (если появились новые файлы)
- [ ] Таблицы и заголовки в Markdown отображаются корректно
- [ ] Нет временных файлов и служебного мусора (`.DS_Store`, черновики, дубли)



## 6. Критерии приемки изменений по документам кандидатов

Изменение принимается только если выполнены все критерии:

1. **Трассируемость**
Документ явно связывает изменения с требованиями ТЗ, СТ и ТкПО (или указывает, что связь отсутствует и почему).

2. **Проверяемость**
Для добавленных/измененных разделов есть проверяемый результат: тест-кейс, таблица покрытия, ссылка на инспекцию или отчет.

3. **Консистентность структуры**
Структура и терминология согласованы с парным документом кандидата и шаблонами проекта.

4. **Корректные ссылки**
Все относительные ссылки на файлы и разделы открываются и ведут на актуальные документы.

5. **Отсутствие регрессий в оформлении**
Изменение не ломает форматирование: заголовки, таблицы, списки и кодовые блоки читаются без ошибок.

6. **Прозрачность изменения**
Описание в PR объясняет, что изменено, зачем и как это проверено.



## 7. Быстрый рабочий сценарий

1. Получить задачу из `task-tracker/1_sprint`.
2. Создать ветку по формату `task/<date>_<assignee_en>`.
3. Переместить задачу в работу (`2_in_progress`) отдельным коммитом `chore(tasks)`.
4. Выполнить изменения в документах/артефактах и закоммитить по `spec/docs`.
5. Открыть PR с меткой `[verification]`, пройти checklist.
6. После ревью переместить задачу в `3_done` отдельным коммитом `chore(tasks)`.



## 8. Привязка тестов к требованиям

Тест-кейсы и сценарии верификации привязаны к **идентификаторам требований** (TS-*, SR-*, SWR-*), а не к реализации (коду).

**Правила пересмотра тестов:**

1. **При изменении требований** — тесты и сценарии верификации пересматриваются и при необходимости перерабатываются. Изменение требований является триггером обновления матрицы покрытия, демонстрационных сценариев и отчётов.
2. **При изменении только кода** (без изменения требований) — тесты не переписываются. Если шаги или ожидания сценария зависели от ошибочной трактовки требований, допускается уточнение формулировок без изменения охвата проверки.

**Обоснование:** Код переписывается чаще, чем требования. Переписывание тестов при каждом изменении кода нецелесообразно и затратно. Привязка к требованиям обеспечивает стабильность тестового набора при рефакторинге реализации.



## 9. Связанные документы

- [План КУ, раздел 9 (входы и выходы процесса верификации)](../configuration_management/configuration_management_plan.md#9-входы-и-выходы-процесса-верификации)
- [Работа с Git](./git_workflow.md)
- [Правила именования](./naming_conventions.md)
- [Руководство по таск-трекеру](../../task-tracker/README.md)
