# Демонстрационные тестовые сценарии по кандидатам верификации

| Дата       | Номер версии | Автор       | Ссылка на задачу                                                             | Комментарий                          |
| ---------- | ------------ | ----------- | ---------------------------------------------------------------------------- | ------------------------------------ |
| 2026-02-19 | v1.0         | Вальковец   | [2026-02-19_Valkovets.md](../task-tracker/3_done/2026-02-19_Valkovets.md) | Набор сценариев для очной демонстрации |



## 1. Назначение

Документ содержит воспроизводимые сценарии проверки двух кандидатов верификации ITSIMS:
- `dependency_graph` (кандидат 1);
- `rbac` (кандидат 2).

Для каждого сценария заданы шаги, ожидаемый результат и ссылки на требования.



## 2. Источники требований

- [Кандидат 1: граф зависимостей](../candidate_1_dependency_graph.md)
- [Кандидат 1, раздел «Покрытие требованиями»](../candidate_1_dependency_graph.md#покрытие-требованиями)
- [Кандидат 1, раздел «План верификации»](../candidate_1_dependency_graph.md#план-верификации)
- [Кандидат 2: ролевая модель доступа](../candidate_2_rbac.md)
- [Кандидат 2, раздел «Покрытие требованиями»](../candidate_2_rbac.md#покрытие-требованиями)
- [Кандидат 2, раздел «План верификации»](../candidate_2_rbac.md#план-верификации)
- [Техническое задание (ТЗ)](../artifacts/1_technical_specification.md)
- [Системные требования (SR)](../artifacts/3_system_requirements.md)
- [Требования к ПО (SWR)](../artifacts/5_software_requirements.md)



## 3. Сценарии для кандидата 1 (`dependency_graph`)

### 3.1 Позитивные сценарии

| ID | Сценарий | Шаги | Ожидаемый результат | Ссылки на требования |
| --- | --- | --- | --- | --- |
| DG-P-01 | Создание однонаправленной связи A→B | 1) Админ открывает сервис A. 2) Добавляет зависимость от B. 3) Сохраняет изменение. | Связь создается, в графе появляется ребро A→B, операция возвращает успешный статус. | TS-F013, TS-F014; SR-F036, SR-F037; SWR-API084, SWR-DB012 |
| DG-P-02 | Просмотр связей с глубиной 1 для специалиста | 1) Войти под ролью специалиста. 2) Открыть карточку сервиса. 3) Запросить зависимости. | Возвращаются только прямые зависимости и обратные связи первого уровня. | TS-F015; SR-F039; SWR-API080, SWR-API081 |
| DG-P-03 | Отображение полного графа для администратора | 1) Войти под администратором. 2) Открыть экран графа. 3) Проверить список узлов/ребер. | Отображается полный граф зависимостей в формате визуализации. | TS-F016; SR-F040, SR-F041; SWR-API082, SWR-API087, SWR-UI026 |

### 3.2 Негативные сценарии

| ID | Сценарий | Шаги | Ожидаемый результат | Ссылки на требования |
| --- | --- | --- | --- | --- |
| DG-N-01 | Попытка создать цикл A→B и B→A | 1) Создать A→B. 2) Попытаться добавить B→A. | Операция отклоняется, цикл не создается, возвращается ошибка валидации. | SWR-API085; раздел «План верификации» кандидата 1 |
| DG-N-02 | Попытка дублировать существующую связь | 1) Создать A→B. 2) Повторить создание A→B. | Дублирование блокируется уникальным ограничением. | SWR-DB013; раздел «Unit-тестирование» кандидата 1 |
| DG-N-03 | Удаление несуществующей связи | 1) Выполнить DELETE по невалидному идентификатору связи. | Возвращается ошибка «связь не найдена», состояние графа не меняется. | TS-F017; SR-F038; SWR-API086 |



## 4. Сценарии для кандидата 2 (`rbac`)

### 4.1 Позитивные сценарии

| ID | Сценарий | Шаги | Ожидаемый результат | Ссылки на требования |
| --- | --- | --- | --- | --- |
| RB-P-01 | Создание пользователя администратором системы | 1) Войти как системный администратор. 2) Создать пользователя с обязательными полями. | Пользователь создан, пароль не возвращается в ответе. | TS-F060; SR-F068, SR-F069; SWR-API013, SWR-API015, SWR-API016 |
| RB-P-02 | Назначение роли на уровне сервиса | 1) Админ сервиса открывает управление правами. 2) Назначает роль пользователю. | Роль назначена, появляется запись в таблице прав доступа. | TS-F027, TS-F028, TS-F030; SR-F075, SR-F079, SR-F080; SWR-API045, SWR-DB007 |
| RB-P-03 | Фильтрация контента для обычного сотрудника | 1) Войти как обычный сотрудник. 2) Открыть документацию сервиса. | Пользователь видит только документы для пользователей (`user_docs`). | TS-F029; SR-F081, SR-F083; SWR-API059, SWR-API060 |

### 4.2 Негативные сценарии

| ID | Сценарий | Шаги | Ожидаемый результат | Ссылки на требования |
| --- | --- | --- | --- | --- |
| RB-N-01 | Вертикальная эскалация привилегий | 1) Войти как специалист по обслуживанию. 2) Попробовать удалить сервис. | Операция запрещена, возвращается `403` и сообщение «Доступ запрещен». | TS-F057; SR-SEC004, SR-SEC005; раздел «Тестирование безопасности» кандидата 2 |
| RB-N-02 | Попытка управлять чужим сервисом | 1) Админ сервиса A выполняет назначение прав в сервисе B. | Доступ запрещен, изменения не применяются. | SR-F079; SWR-API045, SWR-API047; раздел «Комбинаторное тестирование ролей» кандидата 2 |
| RB-N-03 | Запрос с токеном заблокированного пользователя | 1) Заблокировать пользователя. 2) Повторить запрос к API с его токеном. | Доступ отклоняется, активные refresh-токены недействительны. | SR-F072; SWR-API020, SWR-API021 |



## 5. Порядок демонстрации

1. Сначала показать кандидат 1: `DG-P-01` → `DG-P-03`, затем `DG-N-01`.
2. Далее показать кандидат 2: `RB-P-02`, `RB-P-03`, затем `RB-N-01`.
3. После каждого сценария фиксировать факт прохождения в рабочей таблице верификации.
